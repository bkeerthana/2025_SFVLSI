#!/usr/bin/env wish
package require Tk 8.6

wm title . "Timing Report Analyzer (Tk)"

label .l -text "Choose timing report (.rpt):"
pack .l -padx 10 -pady 5

button .open -text "Open File" -command {
    set filename [tk_getOpenFile -filetypes {{Timing {.rpt}}}]
    if {$filename eq ""} { return }

    set fd [open $filename r]
    set data [read $fd]
    close $fd

    # Extract negative slack paths
    set neg_slack [regexp -all -inline {^-?\d+\.\d+} $data]

    .text delete 1.0 end
    .text insert end "Negative Slack Values Found:\n"
    foreach s $neg_slack {
        if {$s < 0} {
            .text insert end "Slack: $s\n"
        }
    }
}
pack .open -padx 10 -pady 5

text .text -width 60 -height 15
pack .text -padx 10 -pady 10

